<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Indie Sync Blueprint | Market Research Tool</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind (CDN — no build step) -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style type="text/tailwindcss">
      @theme {
        --color-navy: #102136;
        --color-navy-light: #1a2c42;
        --color-purple: #7456f1;
        --color-purple-hover: #5e45c4;
        --color-blue-grey: #4d5d6d;
        --color-off-white: #f9fafb;
        --font-sans: Figtree, sans-serif;
        --radius: 4px;
      }
    </style>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- App Styles (extracted) -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body class="antialiased min-h-screen flex flex-col">
    <!-- ===== HEADER (Glass Pill Nav) ===== -->
    <header class="w-full pointer-events-none sticky top-0 z-50">
      <div class="nav-pill pointer-events-auto">
        <div class="liquid-bg"></div>

        <!-- Logo -->
        <div class="flex flex-col items-start justify-center">
          <div class="h-6 overflow-hidden flex items-center">
            <img
              src="images/338-sync-long-light.svg"
              alt="Indie Sync"
              class="logo-light h-full w-auto object-contain"
            />
            <img
              src="images/338-sync-long-dark.svg"
              alt="Indie Sync"
              class="logo-dark h-full w-auto object-contain"
            />
          </div>
          <p
            class="text-[9px] text-[var(--secondary-text)] tracking-[0.1em] uppercase leading-tight mt-0.5 ml-0.5 font-medium"
          >
            Market Research
          </p>
        </div>

        <!-- Desktop Nav Links -->
        <nav class="hidden md:flex items-center space-x-6 desktop-only">
          <a
            href="#dashboard"
            class="text-xs font-bold uppercase tracking-wider text-[var(--primary-text)] hover:text-purple transition-colors"
            >Dashboard</a
          >
          <a
            href="#analysis"
            class="text-xs font-bold uppercase tracking-wider text-[var(--secondary-text)] hover:text-purple transition-colors"
            >Analysis</a
          >
          <a
            href="#checklist"
            class="text-xs font-bold uppercase tracking-wider text-[var(--secondary-text)] hover:text-purple transition-colors"
            >Checklist</a
          >
        </nav>

        <!-- Theme Toggle -->
        <div class="flex items-center">
          <div class="relative inline-block align-middle select-none">
            <input
              type="checkbox"
              name="toggle"
              id="theme-toggle"
              class="toggle-checkbox"
              onclick="toggleTheme()"
            />
            <label for="theme-toggle" class="toggle-label"></label>
          </div>
        </div>
      </div>
    </header>

    <!-- ===== MAIN CONTENT ===== -->
    <main
      class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-36 pb-8 w-full"
    >
      <!-- Intro -->
      <section class="mb-14 max-w-4xl mx-auto text-center">
        <h2
          class="text-4xl font-extrabold mb-4 text-[var(--primary-text)] uppercase tracking-tight"
        >
          Define Your <span class="text-purple">Sonic Vision</span>
        </h2>
        <p
          class="text-[var(--secondary-text)] leading-relaxed text-lg max-w-2xl mx-auto"
        >
          Creativity starts with imitation and intentional research. Use this
          dashboard to
          <strong class="text-[var(--primary-text)]">study the market</strong
          >.<br />
          Select a category below to explore top brands, analyze their "Sonic
          Identity," and listen to the reference tracks directly.
        </p>
      </section>

      <!-- Category Tabs (Dynamically generated from JSON) -->
      <div
        id="category-tabs"
        class="flex flex-nowrap border-b border-transparent mb-8 overflow-x-auto justify-start md:justify-center gap-3 px-4 -mx-4 md:px-0 md:mx-0 no-scrollbar pb-2 md:pb-0"
      >
        <!-- JS populates these from sync-data.json -->
      </div>

      <!-- Dashboard Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8" id="dashboard">
        <!-- LEFT: Brand Selector (Desktop) -->
        <div
          class="hidden lg:flex lg:col-span-3 flex-col gap-6 lg:sticky lg:top-24 h-fit"
        >
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-6 rounded-2xl border border-[var(--border-color)]"
          >
            <h3
              class="text-xs font-bold uppercase tracking-widest text-[var(--secondary-text)] mb-6"
            >
              Select a Brand
            </h3>
            <div id="brand-list" class="flex flex-col gap-3"></div>
          </div>

          <div
            class="bg-gradient-to-br from-purple to-[#5e45c4] p-6 rounded-2xl text-white"
          >
            <h3
              class="text-sm font-bold uppercase tracking-wide mb-3 opacity-90"
            >
              Category Insight
            </h3>
            <p
              id="category-insight"
              class="text-sm font-medium leading-relaxed"
            >
              Select a category to see insights.
            </p>
          </div>
        </div>

        <!-- CENTER: Brand Detail + Playlist -->
        <div class="lg:col-span-5 flex flex-col gap-6">
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-8 rounded-2xl border border-[var(--border-color)] relative overflow-hidden"
          >
            <div
              class="absolute -top-10 -right-10 w-40 h-40 bg-purple blur-[60px] opacity-20 pointer-events-none"
            ></div>

            <div class="flex justify-between items-start mb-6 relative z-10">
              <div class="w-full">
                <!-- Mobile Brand Trigger -->
                <button
                  onclick="toggleBottomSheet(true)"
                  class="lg:hidden flex items-center gap-2 w-full text-left mb-2 group"
                >
                  <h2
                    id="brand-name-mobile"
                    class="text-3xl font-extrabold text-[var(--primary-text)] tracking-tight"
                  >
                    —
                  </h2>
                  <svg
                    class="w-6 h-6 text-purple group-hover:scale-110 transition-transform"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 9l-7 7-7-7"
                    />
                  </svg>
                </button>

                <!-- Desktop Title -->
                <h2
                  id="brand-name"
                  class="hidden lg:block text-4xl font-extrabold text-[var(--primary-text)] mt-4 tracking-tight"
                >
                  —
                </h2>
                <span
                  id="brand-tag"
                  class="text-[10px] font-bold uppercase tracking-widest text-purple bg-[rgba(116,86,241,0.1)] px-3 py-1 rounded-lg inline-block mt-2 lg:mt-0"
                  >—</span
                >
              </div>
            </div>

            <div class="relative group">
              <p
                id="brand-desc"
                class="text-sm text-[var(--secondary-text)] mb-2 leading-relaxed font-medium line-clamp-2 lg:line-clamp-none transition-all"
              >
                Loading...
              </p>
              <button
                id="read-more-btn"
                onclick="toggleDescription()"
                class="lg:hidden text-xs font-bold text-purple uppercase tracking-wider mb-4"
              >
                Read more
              </button>
            </div>

            <div class="border-b border-[var(--border-color)] pb-3 mt-8 mb-4">
              <h3
                class="text-xs font-bold uppercase tracking-widest text-[var(--secondary-text)]"
              >
                Reference Playlist
              </h3>
            </div>

            <div
              id="song-list"
              class="flex flex-row lg:flex-col gap-4 lg:gap-3 overflow-x-auto lg:overflow-y-auto snap-x lg:snap-none pb-4 lg:pb-0 custom-scroll pr-2 snap-mandatory"
              style="max-height: none"
            ></div>
          </div>
        </div>

        <!-- RIGHT: Analytics -->
        <div
          id="analysis"
          class="lg:col-span-4 flex flex-col gap-6 lg:sticky lg:top-24 h-fit"
        >
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-6 rounded-2xl border border-[var(--border-color)] flex flex-col"
          >
            <h3
              class="text-sm font-bold uppercase tracking-wide text-[var(--primary-text)] mb-1"
            >
              Sonic Fingerprint
            </h3>
            <p class="text-xs text-[var(--secondary-text)] mb-6">
              Does your music match these levels?
            </p>
            <div class="flex-grow flex items-center justify-center">
              <div class="chart-container chart-container-mobile">
                <canvas id="radarChart"></canvas>
              </div>
            </div>
          </div>

          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-6 rounded-2xl border border-[var(--border-color)]"
          >
            <h3
              class="text-sm font-bold uppercase tracking-wide text-[var(--primary-text)] mb-6"
            >
              Key Genres for Brand
            </h3>
            <div class="chart-container" style="height: 200px">
              <canvas id="barChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Plan -->
      <section
        id="checklist"
        class="mt-20 border-t border-[var(--border-color)] pt-12"
      >
        <h2
          class="text-3xl font-extrabold mb-8 text-[var(--primary-text)] uppercase tracking-tight text-center"
        >
          Your Action Plan
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-8 rounded-2xl border border-[var(--border-color)] relative overflow-hidden group hover:border-purple transition-colors duration-300"
          >
            <div class="absolute top-0 left-0 w-1 h-full bg-purple"></div>
            <h3
              class="text-lg font-bold mb-4 text-[var(--primary-text)] group-hover:text-purple transition-colors"
            >
              Step 1: Intentional Research
            </h3>
            <ul
              class="text-sm text-[var(--secondary-text)] space-y-3 list-disc list-inside leading-relaxed"
            >
              <li>Study the market (use the dashboard above).</li>
              <li>Listen to successful artists with placements.</li>
              <li>
                <strong class="text-[var(--primary-text)]">Imitate</strong>
                early on to learn the rules.
              </li>
              <li>Avoid guessing; analyze specific brands.</li>
            </ul>
          </div>
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-8 rounded-2xl border border-[var(--border-color)] relative overflow-hidden group hover:border-purple transition-colors duration-300"
          >
            <div class="absolute top-0 left-0 w-1 h-full bg-[#8A8780]"></div>
            <h3
              class="text-lg font-bold mb-4 text-[var(--primary-text)] group-hover:text-purple transition-colors"
            >
              Step 2: Create Reference Playlist
            </h3>
            <ul
              class="text-sm text-[var(--secondary-text)] space-y-3 list-disc list-inside leading-relaxed"
            >
              <li>Use TuneFind (TV/Games).</li>
              <li>Use iSpot.tv (Ads).</li>
              <li>Search YouTube for "Ad Playlists".</li>
              <li>Check Licensing Company sites.</li>
              <li>
                <strong class="text-[var(--primary-text)]">Goal:</strong> Find
                where your sound fits.
              </li>
            </ul>
          </div>
          <div
            class="bg-[var(--glass-bg)] backdrop-blur-xl p-8 rounded-2xl border border-[var(--border-color)] relative overflow-hidden group hover:border-purple transition-colors duration-300"
          >
            <div class="absolute top-0 left-0 w-1 h-full bg-[#ffffff]"></div>
            <h3
              class="text-lg font-bold mb-4 text-[var(--primary-text)] group-hover:text-purple transition-colors"
            >
              Step 3: Determine Your Fit
            </h3>
            <ul
              class="text-sm text-[var(--secondary-text)] space-y-3 list-disc list-inside leading-relaxed"
            >
              <li>Can you pivot to a new sound?</li>
              <li>Are you fitting Trailers or Influencers?</li>
              <li>Don't be afraid to explore new sounds.</li>
              <li>Align your brand *after* understanding the market.</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer
      class="bg-[var(--bg-footer)] border-t border-[var(--border-color)] mt-20 py-12 pb-24 md:pb-12"
    >
      <div
        class="max-w-7xl mx-auto px-4 text-center text-[var(--secondary-text)] text-sm"
      >
        <p>
          &copy; 2026 Indie Artist Sync Guide. Built for
          <span class="text-purple">intentional research</span>.
        </p>
      </div>
    </footer>

    <!-- Mobile Bottom Nav -->
    <nav class="bottom-nav mobile-only">
      <button class="nav-item active" onclick="scrollToSection('dashboard')">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"
          />
        </svg>
        <span>DB</span>
      </button>
      <button class="nav-item" onclick="scrollToSection('analysis')">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"
          />
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"
          />
        </svg>
        <span>Analysis</span>
      </button>
      <button class="nav-item" onclick="scrollToSection('checklist')">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>Plan</span>
      </button>
    </nav>

    <!-- Bottom Sheet (Mobile Brand Selector) -->
    <div
      id="brand-sheet-overlay"
      class="bottom-sheet-overlay"
      onclick="toggleBottomSheet(false)"
    ></div>
    <div id="brand-sheet" class="bottom-sheet">
      <div
        class="w-12 h-1 bg-[var(--border-color)] rounded-full mx-auto mb-6"
      ></div>
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold uppercase text-[var(--primary-text)]">
          Select a Brand
        </h3>
        <button
          onclick="toggleBottomSheet(false)"
          class="p-2 text-[var(--secondary-text)]"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
      <div class="relative mb-4">
        <input
          type="text"
          id="brand-search"
          placeholder="Search brands..."
          class="w-full bg-[var(--bg-color)] text-[var(--primary-text)] border border-[var(--border-color)] rounded-xl py-3 px-10 text-sm focus:outline-none focus:border-purple transition-colors"
        />
        <svg
          class="w-5 h-5 text-[var(--secondary-text)] absolute left-3 top-1/2 transform -translate-y-1/2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
      </div>
      <div
        id="mobile-brand-list"
        class="flex flex-col gap-3 max-h-[60vh] overflow-y-auto"
      ></div>
    </div>

    <!-- SVG Filters (Liquid Effect) -->
    <svg
      style="position: absolute; width: 0; height: 0; overflow: hidden"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <filter id="liquid-flow" x="-20%" y="-20%" width="140%" height="140%">
          <feTurbulence
            type="fractalNoise"
            baseFrequency="0.005"
            numOctaves="3"
            result="turbulence"
          >
            <animate
              attributeName="baseFrequency"
              dur="30s"
              values="0.005;0.01;0.005"
              repeatCount="indefinite"
            />
          </feTurbulence>
          <feDisplacementMap
            in="SourceGraphic"
            in2="turbulence"
            scale="35"
            xChannelSelector="R"
            yChannelSelector="G"
          />
        </filter>
      </defs>
    </svg>

    <!-- App Logic (extracted — loads data from data/sync-data.json) -->
    <script src="js/app.js"></script>
  </body>
</html>
